<!DOCTYPE HTML>
<html class="app">

<head>
    <meta charset="utf-8">
    <title>Models</title>
    
</head>

<body>
	<ul id="todo-list">
		<li></li>
	</ul>
	<div id="input-row1">New Label <input type="text"><button>Update</button></div>
	<div id="input-row2">New Status<input type="text"><button>Update</button></div>
	<script type="text/javascript" src="../shared/js/utils.js"></script>
	<script type="text/javascript" src="../shared/js/events.js"></script>
	<script type="text/javascript" src="../shared/js/models.js"></script>
	<script type="text/javascript" src="http://underscorejs.org/underscore.js"></script>
	<script type="text/javascript" src="http://backbonejs.org/backbone.js"></script>
	<script>

		// Some sample of how to use our new Model class from our framework
		var TodoItem = SKFramework.Model.extend({
				initialize: function(){
					console.log('hi');
					console.log(TodoItem.prototype.initialize)
				},
				changeStatus: function(_status){
					if(typeof _status == "number"){
						if(_status < 0){
							_status = 0;
						}else if( _status > 1){
							_status = 1;
						}
						this.set('status', _status);
					}
					return this;
				},
				changeLabel: function(_label){
					this.set('label', String(_label))
				}
			});
		
		// Lets now make some TodoItems
		var todoItem1 = new TodoItem(),
			domItem1 = document.querySelector('#todo-list li');

		// Add Event Listeners
		todoItem1.on('change', function(e){
			domItem1.innerHTML = todoItem1.get('label') + ' - ' + todoItem1.get('status');
		});
		



		// Add some DOM Events
		var domRow1 = document.querySelector('#input-row1'),
			domRow2 = document.querySelector('#input-row2');

		domRow1.querySelector('button').addEventListener('click', function(){
			todoItem1.set('label', domRow1.querySelector('input').value);
		});
		domRow2.querySelector('button').addEventListener('click', function(){
			todoItem1.set('status', domRow2.querySelector('input').value);
		});
	</script>
</body>

</html>